function zoomImage(r){var h='createElement',j='clientX',k='clientY',m='touches',q='preventDefault',s='addEventListener',v='removeEventListener',a=!1,b=1,c=0,d={x:0,y:0},l=document[h]('div'),f=document[h]('div'),g=g||function(...x){var sum=0;for(var i=0;i<x.length;i++)sum+=x[i]*x[i];return Math.sqrt(sum)};f.classList.add('zoom-dial');l.classList.add('zoom-rotate');l.appendChild(f);function w(){r.style.transform=`translate(${d.x}px,${d.y}px) rotate(${c}deg) scale(${b})`;l.style.transform=`rotate(${c}deg)`}r[s]("touchstart",e=>{if(a){if(a.a===1){var x=e[m][0][j]-e[m][1][j],y=e[m][1][k]-e[m][0][k];a={a:2,b:Math.atan(x/y)/Math.PI*180+180*(y<0),c:c,d:g(e[m][0][j]-e[m][1][j],e[m][0][k]-e[m][1][k]),e:b,f:(e[m][0][j]+e[m][1][j])/2,g:(e[m][0][k]+e[m][1][k])/2,h:d.x,i:d.y}}}else{a={a:1,j:e[m][0][j],k:e[m][0][k],h:d.x,i:d.y};document[s]("touchmove",u,{passive:!1});document[s]("touchend",t,{passive:!1})}e[q]()},{passive:!1});function u(e){if(a){if(a.a===2){var x=e[m][0][j]-e[m][1][j],y=e[m][1][k]-e[m][0][k];c=a.c+Math.atan(x/y)/Math.PI*180+180*(y<0)-a.b;b=g(e[m][0][j]-e[m][1][j],e[m][0][k]-e[m][1][k])/a.d*a.e;d={x:(e[m][0][j]+e[m][1][j])/2-a.f+a.h,y:(e[m][0][k]+e[m][1][k])/2-a.g+a.i};w()}else if(a.a===1){d={x:e[m][0][j]-a.j+a.h,y:e[m][0][k]-a.k+a.i};w()}}e[q]()}function t(e){a=!1;document[v]("touchmove",u,!1);document[v]("touchend",t,!1);e[q]()}r[s]("mousedown",e=>{if(!a){if(e.which===3){a={l:!0,up:0,j:e[j],k:e[k]};document.body.appendChild(l);l.style.left=e[j]+'px';l.style.top=e[k]+'px'}else{a={j:e[j],k:e[k],h:d.x,i:d.y}}document[s]("mousemove",p,!1);document[s]("mouseup",o,!1);e[q]()}},!1);function p(e){if(a){if(a.l){var x=e[j]-a.j,y=a.k-e[k];c=Math.atan(x/y)/Math.PI*180+180*(y<0)}else{d={x:e[j]-a.j+a.h,y:e[k]-a.k+a.i}}w()}e[q]()}function o(e){if(a.l&&a.up<1){a.up++}else{if(a.l)document.body.removeChild(l);a=!1;document[v]("mousemove",p,!1);document[v]("mouseup",o,!1)}e[q]()}r[s]("wheel",e=>{var n=Math.abs(e.deltaY/1000)+1;if(e.deltaY<0)b*=n,d.x*=n,d.y*=n;else if(e.deltaY>0)b/=n,d.x/=n,d.y/=n;w();e[q]()},!1);r[s]('contextmenu',e=>{e[q]()},!1)}
