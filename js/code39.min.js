function code39(f,a){var b;if(a&&a.tagName==='CANVAS')b=a;else b=document.createElement('canvas'),a=undefined;var c=b.getContext('2d');try{var d='imageRendering',e='style';b[e][d]='optimizeSpeed';b[e][d]='-moz-crisp-edges';b[e][d]='-webkit-optimize-contrast';b[e][d]='-o-crisp-edges';b[e][d]='pixelated';b[e].msInterpolationMode='nearest-neighbor'}catch(e){}f='*'+f.toUpperCase().replace(/[^A-Z0-9\-\. \+/\$%]/g,'')+'*';var g='length',h='height',k='width',l='fillRect',m='fillStyle';b[h]=100;b[k]=f[g]*16-1;if(a)c.clearRect(0,0,b[k],b[h]);c[m]='white';c[l](0,0,b[k],b[h]);c[m]='black';for(var i=0,x=0;i<f[g];i++){var o=code39.v[f[i]].toString(3);for(var j=0;j<o[g];j++)switch(o[j]){case '2':c[l](x,0,3,b[h]);x+=4;break;case '1':c[l](x,0,1,b[h]);x+=2;break;case '0':x+=2;break}}return b}code39.v={0:349,1:581,2:419,3:661,4:347,5:589,6:427,7:341,8:583,9:421,A:599,K:605,U:527,B:437,L:443,V:311,C:679,M:685,W:553,D:383,N:389,X:293,E:625,O:631,Y:535,F:463,P:469,Z:319,G:359,Q:371,"-":287,H:601,R:613,".":529,I:439,S:451," ":313,J:385,T:397,"*":295,"+":2521,"/":2467,"$":2461,"%":3007}
